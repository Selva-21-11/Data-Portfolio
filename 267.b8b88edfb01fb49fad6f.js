"use strict";(self.webpackChunkmy_3d_portfolio=self.webpackChunkmy_3d_portfolio||[]).push([[267],{5267:(e,n,t)=>{t.r(n),t.d(n,{default:()=>l});var o=t(6540),r=t(4922),i=t(9437),a=t(5880),s=t(2543);const l=()=>{const e=(0,o.useRef)(null),n=(0,o.useRef)(null),t=(0,o.useRef)(null),l=(0,o.useRef)(null),d=(0,o.useRef)(null),u=(0,o.useRef)(null),[w,c]=(0,o.useState)(!0);return(0,o.useEffect)((()=>{const o=new r.Z58,w=window.innerWidth/window.innerHeight,m=new r.qUd(-2*w,2*w,2,-2,.1,1e3);m.position.z=5;const p=new i.JeP({antialias:!0,alpha:!0});p.setSize(window.innerWidth,window.innerHeight),p.setClearColor(0,0),p.outputEncoding=r.Zr2,p.physicallyCorrectLights=!0,e.current&&e.current.appendChild(p.domElement),n.current=p,t.current=m,l.current=o;const v=new r.KPJ,h=new r.Tap(v).load("./assets/mattext.webp");h.wrapS=h.wrapT=r.ghU;const f=new r.BKk({uniforms:{tMatCap:{value:h}},vertexShader:"\n        varying vec3 vNormal;\n        void main() {\n          vNormal = normalize(normalMatrix * normal);\n          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        }\n      ",fragmentShader:"\n        uniform sampler2D tMatCap;\n        varying vec3 vNormal;\n        void main() {\n          vec3 matCapColor = texture2D(tMatCap, vec2(vNormal.x * 0.5 + 0.5, vNormal.y * 0.5 + 0.5)).rgb;\n          gl_FragColor = vec4(matCapColor, 1.0);\n        }\n      "}),g=new r.eaF(new r.Gu$(1.5,32,32),f),C=new r.eaF(new r.Gu$(.5,32,32),f.clone()),x=new r.YJl;x.add(g),x.add(C),o.add(x),d.current=g,u.current=C;const y=(0,s.throttle)((e=>{const n=e.clientX/window.innerWidth*2-1,t=e.clientY/window.innerHeight*2-1,o=Math.atan2(t,n),r=1.6*Math.cos(o),i=1.6*Math.sin(o);a.os.to(C.position,{x:r,y:i,z:-1,duration:.5,ease:"power3.out"}),a.os.to(m.position,{x:.1*n,y:.1*t,z:5,duration:.6,ease:"power3.out"})}),100),z=()=>{const e=window.innerWidth/window.innerHeight;m.left=-2*e,m.right=2*e,m.top=2,m.bottom=-2,m.updateProjectionMatrix(),p.setSize(window.innerWidth,window.innerHeight)};window.addEventListener("mousemove",y),window.addEventListener("resize",z);const E=()=>{p.render(o,m),requestAnimationFrame(E)};return v.onLoad=()=>{c(!1),a.os.fromTo(g.scale,{x:0,y:0,z:0},{x:1,y:1,z:1,duration:1}),a.os.fromTo(C.scale,{x:0,y:0,z:0},{x:1,y:1,z:1,duration:1}),E()},()=>{window.removeEventListener("mousemove",y),window.removeEventListener("resize",z),p.dispose(),o.traverse((e=>{e.isMesh&&(e.geometry.dispose(),e.material.isMaterial&&e.material.dispose())})),p.domElement&&e.current&&e.current.removeChild(p.domElement)}}),[]),o.createElement("div",{ref:e,id:"hero"},w&&o.createElement("div",{className:"loading-screen"},o.createElement("h3",null,"Loading...")))}}}]);
//# sourceMappingURL=267.b8b88edfb01fb49fad6f.js.map